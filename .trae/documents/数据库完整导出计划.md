# 数据库完整导出计划

## 1. 项目数据库信息
- **数据库类型**：MySQL
- **数据库名称**：volunteer_management_system
- **连接信息**：localhost:3306，用户名root，密码Woshiguozitong1
- **ORM框架**：Sequelize
- **模型数量**：12个（User、Activity、Training、Organization等）

## 2. 导出方案
采用两种方式导出数据库，确保数据完整性和可用性：

### 2.1 使用mysqldump命令导出完整数据库
- **目的**：导出完整的数据库结构、数据和关联关系
- **文件格式**：SQL文件
- **包含内容**：
  - 所有表结构（CREATE TABLE语句）
  - 所有数据记录（INSERT语句）
  - 索引、外键约束
  - 触发器、存储过程（如果有）

### 2.2 使用Sequelize脚本导出数据为JSON格式
- **目的**：生成便于查阅和导入的JSON格式数据
- **文件格式**：JSON文件
- **包含内容**：
  - 每个模型的数据单独导出为JSON文件
  - 保持数据的关联关系
  - 包含完整的记录信息

## 3. 导出步骤

### 3.1 创建导出目录
- 创建`/c:/Users/chuzhi/Desktop/软件工程项目文件/database/`目录（如果不存在）

### 3.2 使用mysqldump导出SQL文件
```bash
mysqldump -u root -pWoshiguozitong1 --databases volunteer_management_system --routines --triggers --events > c:/Users/chuzhi/Desktop/软件工程项目文件/database/volunteer_management_system_full.sql
```

### 3.3 创建Sequelize导出脚本
- 编写Node.js脚本，使用Sequelize连接数据库
- 查询所有模型的数据
- 将每个模型的数据导出为单独的JSON文件
- 保存到指定目录

### 3.4 验证导出结果
- 检查导出的SQL文件是否完整
- 检查每个JSON文件是否包含预期的数据
- 验证数据的完整性和准确性

## 4. 预期输出文件
- `volunteer_management_system_full.sql`：完整的数据库SQL文件
- `User.json`：用户表数据
- `Activity.json`：活动表数据
- `Training.json`：培训表数据
- `Organization.json`：组织表数据
- `ActivityParticipant.json`：活动参与者表数据
- `TrainingParticipant.json`：培训参与者表数据
- `Medal.json`：勋章表数据
- `UserMedal.json`：用户勋章关联表数据
- `ActivityTraining.json`：活动培训关联表数据
- `Skill.json`：技能表数据
- `UserSkill.json`：用户技能关联表数据
- `Notification.json`：通知表数据

## 5. 验证步骤
- 检查导出目录中的文件数量是否符合预期
- 查看SQL文件大小，确保包含完整数据
- 检查JSON文件的内容，验证数据完整性
- 验证关键表的记录数量是否正确

## 6. 后续使用建议
- SQL文件可直接用于MySQL数据库恢复
- JSON文件可用于数据分析、迁移或API测试
- 建议定期备份数据库，确保数据安全