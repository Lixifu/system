# 志愿者管理系统项目规划

## 1. 项目概述

志愿者管理系统是一个基于Web的平台，用于管理志愿者信息、志愿活动、培训课程等，实现志愿者、组织方和管理方的高效协作。

## 2. 功能模块

### 2.1 志愿者模块

| 功能名称 | 功能描述 |
| -------- | -------- |
| 注册/登录 | 志愿者利用手机号或身份证进行注册或登录 |
| 个人资料管理 | 查看和修改个人信息，包括性别、年龄、所属组织等 |
| 志愿履历管理 | 查看志愿时长、荣誉证书、评价和勋章等 |
| 活动记录 | 查看参加过的所有志愿活动 |
| 活动浏览与搜索 | 浏览推荐活动或根据条件搜索活动 |
| 活动详情查看 | 查看活动详细信息，包括内容、时间、地点和招募人数等 |
| 活动报名 | 根据要求报名参加志愿活动 |
| 通用培训课程 | 参加通用培训课程，增加通用技能 |
| 活动前专项培训 | 参加活动前专项培训（部分活动必填） |
| 扫码签到/签退 | 通过扫码记录志愿时长 |
| 服务记录确认 | 确认志愿服务时长是否有效 |

### 2.2 组织方模块

| 功能名称 | 功能描述 |
| -------- | -------- |
| 组织信息维护 | 修改组织名称、隶属部门、联系方式和线下地点 |
| 长期项目管理 | 修改或删除长期项目 |
| 活动创建与发布 | 创建并发布志愿活动 |
| 报名审核与管理 | 审核志愿者报名申请 |
| 志愿者名单管理 | 查看、筛查与导出参加活动的志愿者 |
| 签到二维码管理 | 生成和更新活动签到二维码 |
| 活动总结与评价 | 对活动进行总结，对志愿者进行评价 |
| 消息群发 | 对参加活动的志愿者进行消息群发 |
| 活动数据统计 | 查看活动各类数据，如男女比例、年龄分布等 |

### 2.3 管理方模块

| 功能名称 | 功能描述 |
| -------- | -------- |
| 组织方资质审核 | 审查组织方所属组织和对应资质 |
| 角色和权限分配 | 分配组织方和用户的权限 |
| 违规行为处理 | 处理用户和组织的违规行为 |
| 活动内容审查与监督 | 审核组织方发布的活动内容 |
| 平台运营 | 维护首页和公告等 |
| 社区管理 | 监督和管控社区不良行为 |
| 系统参数调配 | 管理积分或证书等系统参数 |
| 数据备份和统计 | 备份系统数据，进行数据统计和分析 |

## 3. 技术栈选择

### 3.1 前端技术栈

| 技术 | 版本 | 说明 |
| ---- | ---- | ---- |
| HTML5 | - | 页面结构设计 |
| CSS3 | - | 样式设计 |
| JavaScript (ES6+) | - | 交互逻辑实现 |
| 原生AJAX/Fetch | - | API请求 |

### 3.2 后端技术栈

| 技术 | 版本 | 说明 |
| ---- | ---- | ---- |
| Node.js | 16.x | 运行环境 |
| Express | 4.x | Web框架 |
| MongoDB | 5.x | 数据库 |
| Mongoose | 7.x | MongoDB ODM |
| JWT | 9.x | 身份认证 |
| bcrypt | 5.x | 密码加密 |
| cors | 2.x | 跨域处理 |

## 4. 数据库设计

### 4.1 用户表 (users)

| 字段名 | 数据类型 | 描述 |
| ------ | -------- | ---- |
| _id | ObjectId | 主键 |
| name | String | 姓名 |
| phone | String | 手机号（唯一） |
| email | String | 邮箱（唯一） |
| password | String | 密码（加密） |
| role | String | 角色（volunteer/organizer/admin） |
| gender | String | 性别 |
| age | Number | 年龄 |
| organization | ObjectId | 所属组织ID |
| volunteerHours | Number | 志愿时长 |
| certificates | Array | 证书ID数组 |
| medals | Array | 勋章ID数组 |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

### 4.2 活动表 (activities)

| 字段名 | 数据类型 | 描述 |
| ------ | -------- | ---- |
| _id | ObjectId | 主键 |
| title | String | 活动标题 |
| description | String | 活动描述 |
| type | String | 活动类型 |
| startTime | Date | 开始时间 |
| endTime | Date | 结束时间 |
| location | String | 活动地点 |
| quota | Number | 招募人数 |
| registeredCount | Number | 已报名人数 |
| organizer | ObjectId | 组织者ID |
| organization | ObjectId | 所属组织ID |
| status | String | 状态（draft/recruiting/ongoing/completed/cancelled） |
| qrCode | String | 签到二维码 |
| participants | Array | 参与者ID数组 |
| requirements | String | 报名要求 |
| images | Array | 活动图片URL数组 |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

### 4.3 培训课程表 (trainings)

| 字段名 | 数据类型 | 描述 |
| ------ | -------- | ---- |
| _id | ObjectId | 主键 |
| title | String | 课程标题 |
| description | String | 课程描述 |
| type | String | 课程类型（通用/专项） |
| startTime | Date | 开始时间 |
| endTime | Date | 结束时间 |
| location | String | 上课地点 |
| quota | Number | 招募人数 |
| registeredCount | Number | 已报名人数 |
| teacher | String | 讲师 |
| organizer | ObjectId | 组织者ID |
| organization | ObjectId | 所属组织ID |
| status | String | 状态 |
| participants | Array | 参与者ID数组 |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

### 4.4 组织表 (organizations)

| 字段名 | 数据类型 | 描述 |
| ------ | -------- | ---- |
| _id | ObjectId | 主键 |
| name | String | 组织名称 |
| department | String | 隶属部门 |
| contact | String | 联系方式 |
| address | String | 线下地点 |
| description | String | 组织描述 |
| status | String | 状态（pending/approved/rejected） |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

### 4.5 报名记录表 (registrations)

| 字段名 | 数据类型 | 描述 |
| ------ | -------- | ---- |
| _id | ObjectId | 主键 |
| user | ObjectId | 用户ID |
| activity | ObjectId | 活动ID |
| status | String | 状态（pending/approved/rejected） |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

### 4.6 签到记录表 (signRecords)

| 字段名 | 数据类型 | 描述 |
| ------ | -------- | ---- |
| _id | ObjectId | 主键 |
| user | ObjectId | 用户ID |
| activity | ObjectId | 活动ID |
| signInTime | Date | 签到时间 |
| signOutTime | Date | 签退时间 |
| duration | Number | 服务时长（分钟） |
| status | String | 状态（valid/invalid） |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

## 5. 项目框架结构

```
志愿者管理系统/
├── src/                    # 前端代码
│   ├── css/                # CSS样式文件
│   │   └── style.css       # 主样式文件
│   ├── js/                 # JavaScript文件
│   │   ├── main.js         # 主逻辑文件
│   │   └── api.js          # API请求封装
│   └── images/             # 图片资源
├── backend/                # 后端代码
│   ├── config/             # 配置文件
│   │   └── config.js       # 主配置文件
│   ├── models/             # 数据模型
│   │   ├── User.js         # 用户模型
│   │   ├── Activity.js     # 活动模型
│   │   ├── Training.js     # 培训模型
│   │   └── Organization.js # 组织模型
│   ├── routes/             # 路由配置
│   │   ├── auth.js         # 认证路由
│   │   ├── activities.js   # 活动路由
│   │   ├── trainings.js    # 培训路由
│   │   └── user.js         # 用户路由
│   └── utils/              # 工具函数
├── database/               # 数据库相关
├── index.html              # 前端入口文件
├── package.json            # 项目依赖配置
└── README.md               # 项目说明文档
```

## 6. 开发计划

### 6.1 第一阶段：基础架构搭建

- [x] 项目目录结构创建
- [x] 前端基础页面开发
- [x] 后端基础框架搭建
- [x] 数据库设计与模型创建
- [x] API接口设计

### 6.2 第二阶段：核心功能开发

- [ ] 用户注册与登录功能
- [ ] 活动管理功能
- [ ] 志愿者报名功能
- [ ] 签到签退功能
- [ ] 个人中心功能

### 6.3 第三阶段：组织方功能开发

- [ ] 组织信息管理
- [ ] 活动发布与审核
- [ ] 志愿者管理
- [ ] 数据统计功能

### 6.4 第四阶段：管理方功能开发

- [ ] 组织方审核
- [ ] 活动内容审核
- [ ] 系统管理功能
- [ ] 数据备份与统计

### 6.5 第五阶段：测试与优化

- [ ] 功能测试
- [ ] 性能优化
- [ ] 安全性测试
- [ ] 用户体验优化

## 7. 后续开发建议

1. **安全性增强**：
   - 加强输入验证，防止SQL注入和XSS攻击
   - 实现更严格的权限控制
   - 定期更新依赖库，修复安全漏洞

2. **性能优化**：
   - 实现前端资源压缩和缓存
   - 优化数据库查询，添加索引
   - 考虑使用CDN加速静态资源

3. **用户体验提升**：
   - 实现响应式设计，支持移动端访问
   - 添加更多交互效果和动画
   - 优化页面加载速度

4. **功能扩展**：
   - 添加消息通知功能
   - 实现志愿者互评功能
   - 添加活动分享功能
   - 支持多种登录方式（微信、QQ等）

5. **数据可视化**：
   - 为管理方添加数据仪表盘
   - 实现各类统计图表
   - 提供数据导出功能

## 8. 技术文档

- [前端开发规范](前端开发规范.md)
- [后端开发规范](后端开发规范.md)
- [API接口文档](API接口文档.md)
- [数据库设计文档](数据库设计文档.md)

## 9. 联系方式

如有问题或建议，请联系项目负责人。

---

**文档创建时间**：2024年10月22日  
**文档版本**：1.0  
**更新记录**：
- 2024-10-22：初始创建
